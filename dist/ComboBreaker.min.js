/*! ComboBreaker - v0.1.2 - 2012-11-23
* https://github.com/Problematic/ComboBreaker
* Copyright (c) 2012 Derek Stobbe; Licensed MIT */
(function(e){"use strict";var t=function(n,r,i){var s=this,o=0,u=null;if(!(this instanceof t))return new t(n,r,i);this.options=e.extend({},{keyMap:{enter:13,esc:27,left:37,up:38,right:39,down:40},resetTime:1e3,resetOnMistake:!0,stepCallback:null,target:document},i),this.combo=n,this.callback=r,this._keyEventCallback=function(e){var t=s.options.keyMap[s.combo[o]]||s.combo[o].toUpperCase().charCodeAt();clearTimeout(u);if(e.which===t){typeof s.options.stepCallback=="function"&&s.options.stepCallback(s.combo,s.combo[o]);if(o===s.combo.length-1){s.callback(s.combo),o=0;return}o++,u=setTimeout(function(){o=0},s.options.resetTime)}else s.options.resetOnMistake===!0&&(o=0)},e(this.options.target).keyup(this._keyEventCallback)};t.prototype.tearDown=function(){e(this.options.target).unbind("keyup",this._keyEventCallback)},window.ComboBreaker=t})(window.jQuery);